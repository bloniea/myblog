import{P as h}from"./index.64474b59.js";import{M as x}from"./index.80a93ad8.js";import{L as y}from"./index.c61ec5b0.js";import{A as k}from"./index.e42711f3.js";import{r as A,h as S,i as u,f as q,a as B,o as r,c as w,C as p,B as z,y as d,u as s,L as C,M as I,e as L}from"./vendor.bee95a75.js";import{_ as P,h as D}from"./index.707f245a.js";/* empty css                        */const M=a=>(C("data-v-2394f40c"),a=a(),I(),a),N={class:"me"},V=M(()=>L("div",{class:"title"},"\u6211\u6536\u85CF\u7684\u6587\u7AE0:",-1)),E={setup(a){const o=A(!0),c=new S,m=u(()=>c.state.status),_=u(()=>c.state.userinfo),i=q(),t=B({req:{pagenum:1,pagesize:10},articles:[],total:0}),n=async()=>{if(m.value){o.value=!0,_.value.id;const e=await D(t.req);if(e.status===200&&e.ok){const l=e.data.data.map(v=>v.article);t.articles=l,t.total=e.data.total,o.value=!1}}else i.push("/home")};n();const f=e=>{i.push({name:"ArticleDetail",params:{id:e}})},g=e=>{t.req.pagenum=e,n()};return(e,l)=>(r(),w("div",N,[o.value?(r(),p(y,{key:0})):(r(),p(x,{key:1},{default:z(()=>[V,d(k,{articles:s(t).articles,onToArticleDetail:f},null,8,["articles"]),d(h,{pagesize:s(t).req.pagesize,pagenum:s(t).req.pagenum,total:s(t).total,onChangePage:g},null,8,["pagesize","pagenum","total"])]),_:1}))]))}};var J=P(E,[["__scopeId","data-v-2394f40c"]]);export{J as default};
