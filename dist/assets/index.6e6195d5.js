var w=Object.defineProperty;var l=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var d=(a,t,e)=>t in a?w(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e,p=(a,t)=>{for(var e in t||(t={}))q.call(t,e)&&d(a,e,t[e]);if(l)for(var e of l(t))S.call(t,e)&&d(a,e,t[e]);return a};import{P as k}from"./index.9eecfc87.js";import{g as j,r as A,i as I,a as z,b as C,f as D,o as u,D as m,C as L,E as P,e as n,t as B,u as r,z as _,J as M,K as b,G as E}from"./vendor.999b5c7f.js";import{M as N}from"./index.d03a1f4f.js";import{A as R}from"./index.592fa128.js";import{L as V}from"./index.f190d37a.js";import{_ as G}from"./index.2e28db02.js";/* empty css                        */const H=a=>(M("data-v-456c5328"),a=a(),b(),a),J={class:"serach-detail"},K={class:"title"},T=H(()=>n("span",null,"Search:",-1)),U={class:"keyword"},$={setup(a){const t=j(),e=A(!1),g=I(()=>t.query.keyword),o=z({articles:[],req:{pagenum:1,pagesize:2,query:g.value},total:0}),{proxy:f}=E(),c=async()=>{e.value=!0;const{data:s}=await f.$axios.get("/api/articles",{params:o.req});s.meta.status!=200&&P.error(s.meta.msg),e.value=!1,o.articles=s.data.data,o.total=s.data.total};C(()=>{c()});const h=s=>{o.req.pagenum=s,c()},i=D(),y=()=>{const s=localStorage.getItem("searchName");s?i.replace({name:s}):i.replace({name:"Home"})};(()=>{window.history&&window.history.pushState&&(history.pushState(null,null,document.URL),history.replaceState(p({},history.state),""),window.addEventListener("popstate",y,!1))})();const v=s=>{i.push({name:"ArticleDetail",params:{id:s}})};return(s,F)=>{const x=k;return e.value?(u(),m(V,{key:0})):(u(),m(N,{key:1},{default:L(()=>[n("div",J,[n("div",K,[T,n("span",U,B(r(o).req.query),1)]),_(R,{articles:r(o).articles,onToArticleDetail:v},null,8,["articles"])]),_(x,{pagesize:r(o).req.pagesize,pagenum:r(o).req.pagenum,total:r(o).total,onChangePage:h},null,8,["pagesize","pagenum","total"])]),_:1}))}}};var te=G($,[["__scopeId","data-v-456c5328"]]);export{te as default};
