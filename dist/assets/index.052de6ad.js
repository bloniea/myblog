var k=Object.defineProperty;var l=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var p=(o,t,e)=>t in o?k(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,u=(o,t)=>{for(var e in t||(t={}))q.call(t,e)&&p(o,e,t[e]);if(l)for(var e of l(t))x.call(t,e)&&p(o,e,t[e]);return o};import{P as A}from"./index.c702c719.js";import{M as S}from"./index.8df22219.js";import{A as B}from"./index.ed9a589e.js";import{L}from"./index.0fe4c1da.js";import{f as P,r as z,h as C,a as D,b as N,e as M,o as d,C as _,B as R,p as n,t as m,u as r,y as g,v as V}from"./vendor.b1f7e7cf.js";import{g as I}from"./fetch.601d8262.js";import{_ as T}from"./index.5f53ded5.js";/* empty css                        */const b={class:"serach-detail"},E={class:"title"},H=V("Search: "),U={class:"special"},j={class:"keyword"},F={setup(o){const t=P(),e=z(!1),h=C(()=>t.query.keyword),s=D({articles:[],req:{pagenum:1,pagesize:10,keyword:h.value},total:0}),c=async()=>{e.value=!0;const a=await I(s.req);a.status===200&&a.ok&&(e.value=!1,s.articles=a.data.data,s.total=a.data.total)};N(()=>{c()});const f=a=>{s.req.pagenum=a,c()},i=M(),y=()=>{const a=localStorage.getItem("searchName");a?i.replace({name:a}):i.replace({name:"Home"})};window.history&&window.history.pushState&&(history.pushState(null,null,document.URL),history.replaceState(u({},history.state),""),window.addEventListener("popstate",y,!1));const v=a=>{i.push({name:"ArticleDetail",params:{id:a}})};return(a,G)=>{const w=A;return e.value?(d(),_(L,{key:0})):(d(),_(S,{key:1},{default:R(()=>[n("div",b,[n("div",E,[n("span",null,[H,n("span",U,m(r(s).req.keyword),1)]),n("span",j,m(r(s).req.query),1)]),g(B,{articles:r(s).articles,onToArticleDetail:v},null,8,["articles"])]),g(w,{pagesize:r(s).req.pagesize,pagenum:r(s).req.pagenum,total:r(s).total,onChangePage:f},null,8,["pagesize","pagenum","total"])]),_:1}))}}};var ee=T(F,[["__scopeId","data-v-229d9222"]]);export{ee as default};
