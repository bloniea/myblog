import{f,g as y,r as v,a as h,o as p,C as d,B as x,e as o,v as C,t as q,u as s,y as u,L as A,M as k}from"./vendor.bee95a75.js";import{M as D}from"./index.980ab3dc.js";import{L as z}from"./index.886f8a82.js";import{A as B}from"./index.6621f21e.js";import{g as I}from"./fetch.bab85dd8.js";import{P as L}from"./index.5c4e6b33.js";import{_ as P}from"./index.3f412d7c.js";/* empty css                        */const S=r=>(A("data-v-5bd8556c"),r=r(),k(),r),w={class:"category-detail"},M={class:"title"},N=S(()=>o("span",null," Category:",-1)),V={class:"cate-name"},b={setup(r){const i=f(),n=y(),c=v(!0),_=()=>{i.push({name:"Categories"})},a=h({articles:[],cat_name:"",req:{pagesize:10,pagenum:1,category_id:null},total:0}),l=async()=>{c.value=!0,a.cat_name=n.query.name;const e=n.params.id;a.req.category_id=e;const t=await I(a.req);t.status===200&&t.ok&&(a.articles=t.data.data,a.total=t.data.total,c.value=!1)};l();const m=e=>{a.req.pagenum=e,l()},g=e=>{i.push({name:"ArticleDetail",params:{id:e}})};return(e,t)=>c.value?(p(),d(z,{key:0})):(p(),d(D,{key:1},{default:x(()=>[o("div",w,[o("div",M,[N,o("span",V,[C(q(s(a).cat_name)+" ",1),o("i",{class:"iconfont iconclose",onClick:_})])]),u(B,{articles:s(a).articles,onToArticleDetail:g},null,8,["articles"]),u(L,{pagesize:s(a).req.pagesize,pagenum:s(a).req.pagenum,total:s(a).total,onChangePage:m},null,8,["pagesize","pagenum","total"])])]),_:1}))}};var K=P(b,[["__scopeId","data-v-5bd8556c"]]);export{K as default};
