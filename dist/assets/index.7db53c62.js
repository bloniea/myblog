import{P as h}from"./index.241d4e43.js";import{M as x}from"./index.8e98b2b3.js";import{L as y}from"./index.72fe7916.js";import{A as k}from"./index.9e1a6fb8.js";import{r as A,g as S,h as p,e as q,a as B,o as r,c as w,C as u,B as z,y as d,u as s,L as C,M as I,p as L}from"./vendor.b1f7e7cf.js";import{_ as P,h as D}from"./index.29fd4036.js";/* empty css                        */const M=a=>(C("data-v-31f10432"),a=a(),I(),a),N={class:"me"},V=M(()=>L("div",{class:"title"},"\u6211\u6536\u85CF\u7684\u6587\u7AE0:",-1)),E={setup(a){const o=A(!0),c=new S,m=p(()=>c.state.status),_=p(()=>c.state.userinfo),i=q(),t=B({req:{pagenum:1,pagesize:10},articles:[],total:0}),n=async()=>{if(m.value){o.value=!0,_.value.id;const e=await D(t.req);if(e.status===200&&e.ok){const l=e.data.data.map(v=>v.article);t.articles=l,t.total=e.data.total,o.value=!1}}else i.push("/home")};n();const g=e=>{i.push({name:"ArticleDetail",params:{id:e}})},f=e=>{t.req.pagenum=e,n()};return(e,l)=>(r(),w("div",N,[o.value?(r(),u(y,{key:0})):(r(),u(x,{key:1},{default:z(()=>[V,d(k,{articles:s(t).articles,onToArticleDetail:g},null,8,["articles"]),d(h,{pagesize:s(t).req.pagesize,pagenum:s(t).req.pagenum,total:s(t).total,onChangePage:f},null,8,["pagesize","pagenum","total"])]),_:1}))]))}};var J=P(E,[["__scopeId","data-v-31f10432"]]);export{J as default};
